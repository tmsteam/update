const{ipcRenderer:ipcRenderer}=require("electron"),notification=document.getElementById("notification"),message=document.getElementById("message"),restartButton=document.getElementById("restart-button");function closeNotification(){notification.classList.add("hidden")}function restartApp(){ipcRenderer.send("restart_app")}var email,pin;function startButton(){document.getElementById("myBtn").disabled=!0,ipcRenderer.send("ClickStart")}function Login(e){email=document.getElementById("loginform_email").value,pin=document.getElementById("loginform_pw").value;let n=[];n.push(email),n.push(pin),console.log("Createlogin"),ipcRenderer.send("Createlogin",n),document.getElementById("dp-email").innerHTML=email,closeForm()}ipcRenderer.on("update_available",()=>{ipcRenderer.removeAllListeners("update_available"),message.innerText="มีการอัพเดทใหม่ กำลังดาวโหลด...",notification.classList.remove("hidden")}),ipcRenderer.on("update_downloaded",()=>{ipcRenderer.removeAllListeners("update_downloaded"),message.innerText="Update Downloaded. It will be installed on restart. Restart now?",restartButton.classList.remove("hidden"),notification.classList.remove("hidden")}),window.onload=(()=>{ipcRenderer.send("fristload_readfile")}),ipcRenderer.on("fristloadfile",(e,n)=>{2===n.length&&(email=n[0],pin=n[1],document.getElementById("dp-email").innerHTML=email)}),ipcRenderer.on("return-run",(e,n)=>{console.log(n)}),ipcRenderer.on("error",(e,n)=>{document.getElementById("status").style.background="#1f6b16",document.getElementById("status").innerHTML=n}),ipcRenderer.on("error_red",(e,n)=>{document.getElementById("status").style.background="#d23c3c",document.getElementById("status").innerHTML=n});let action_c={control:"enable_button"};function openForm(){document.getElementById("myForm").style.display="block"}function closeForm(){document.getElementById("myForm").style.display="none"}ipcRenderer.on("action",(e,n)=>{"enable_button"===n.control?document.getElementById("myBtn").disabled=!1:"show_credit"===n.control?document.getElementById("credit").innerHTML=n.msg:"restart"===n.control?ipcRenderer.send("ClickStart"):"show_access"===n.control&&(document.getElementById("access").innerHTML=n.msg)}),ipcRenderer.send("app_version"),ipcRenderer.on("app_version",(e,n)=>{document.getElementById("verdog").innerHTML=n});